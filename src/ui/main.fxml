<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>

<BorderPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="ui.MainController"
            styleClass="app-root">

    <center>
        <!-- StackPane: browse + modals -->
        <StackPane fx:id="overlay">

            <!-- ================= BROWSE VIEW ================= -->
            <HBox fx:id="browseView" spacing="12">

                <Pane fx:id="dimPane"
                      visible="false"
                      managed="false"
                      style="-fx-background-color: rgba(0,0,0,0.35);" />

                <padding>
                    <Insets top="10" right="10" bottom="10" left="10"/>
                </padding>

                <!-- ===== SITES ===== -->
                <VBox spacing="8" prefWidth="200" styleClass="panel">
                    <Label text="Sites" styleClass="section-title"/>
                    <TextField fx:id="siteSearchField"
                               promptText="Search site by name"/>

                    <ListView fx:id="sitesList"
                              VBox.vgrow="ALWAYS"
                              styleClass="content-list"/>

                    <Button text="+ Add site"
                            styleClass="primary-button"
                            onAction="#onAddSite"/>

                    <Button text="Edit site"
                            fx:id = "editSiteButton"
                            styleClass="primary-button"
                            onAction="#onEditSite"/>

                    <Label text="Selected site link:" styleClass="section-subtitle"/>

                    <Hyperlink fx:id="selectedSiteLink"

                               onAction="#onCopySiteLink"/>
                </VBox>

                <!-- ===== PROBLEMS ===== --><VBox spacing="8" prefWidth="280" styleClass= "panel">
                    <Label text="Problems" styleClass="section-title"/>
                    <TextField fx:id="problemSearchField"
                           promptText="Search problem by code"/>

                <ListView fx:id="problemsList"
                              VBox.vgrow="ALWAYS"
                              styleClass="content-list"/>

                    <Button text="+ Add problem"
                            fx:id="addProblemButton"
                            styleClass="primary-button"
                            onAction="#onAddProblem"/>

                    <Button text="Edit problem"
                            fx:id="editProblemButton"
                            styleClass="primary-button"
                            onAction="#onEditProblem"/>
                </VBox>

                <!-- ===== NOTES + INFO ===== -->
                <HBox spacing="10" HBox.hgrow="ALWAYS" styleClass= "panel">

                    <VBox spacing="8" HBox.hgrow="ALWAYS">
                        <Label text="Notes" styleClass="section-title"/>

                        <TextArea fx:id="noteArea"
                                  VBox.vgrow="ALWAYS"
                                  styleClass="content-area"
                                  wrapText="true"/>

                        <Button text="Save note"
                                fx:id="saveNoteButton"
                                styleClass="primary-button"
                                onAction="#onSaveNote"/>
                    </VBox>
                </HBox>
                <HBox spacing="10" styleClass= "panel">
                    <VBox spacing="8" minWidth="200" prefWidth="220">
                        <Label text="Difficulty:" styleClass="info-label"/>
                        <Label fx:id="difficultyLabel" styleClass="info-value"/>

                        <Label text="Tries:" styleClass="info-label"/>
                        <Label fx:id="triesLabel" styleClass="info-value"/>

                        <Label text="Link:" styleClass="info-label"/>
                        <Hyperlink fx:id="problemLink"
                                   styleClass="info-link"
                                   onAction="#onCopyProblemLink"/>
                        <Label text="Date added:" styleClass="info-label"/>
                        <Label fx:id="dateAddedLabel" styleClass="info-value"/>

                        <Label text="Last updated:" styleClass="info-label"/>
                        <Label fx:id="lastUpdatedLabel" styleClass="info-value"/>
                    </VBox>
                </HBox>
            </HBox>

        </StackPane>
    </center>
</BorderPane>
